#!/usr/bin/env zsh

# Enable necessary options
setopt null_glob extended_glob

# Function to output paths, expanding globs
output_paths() {
    local paths=$1
    local IFS=':'
    for path in ${(s.:.)paths}; do
        if [[ $path == *\** ]]; then
            # If path contains a glob, expand it
            print -l ${~path}(N)
        else
            # If no glob, output the path if it exists
            [[ -e $path ]] && echo $path
        fi
    done
}

# Output all paths
output_paths "$LOCAL_MEDIA_PATHS"
output_paths "$EXTERNAL_MEDIA_PATHS"

# Disable options
unsetopt null_glob extended_glob
