#!/bin/zsh

echo "External drives mounted:"
echo "----------------------"

# Use diskutil to list all volumes and filter for external drives
diskutil list | grep -A 1 external | grep "/Volumes/" | while read -r volume; do
    echo $volume
done

# Alternative more detailed approach using diskutil info
echo "\nDetailed external drive information:"
echo "--------------------------------"
diskutil list | grep "disk" | grep -v "disk0" | grep -v "synthesized" | while read -r disk; do
    disk_id=$(echo $disk | awk '{print $1}')
    if diskutil info $disk_id | grep -q "External"; then
        mount_point=$(diskutil info $disk_id | grep "Mount Point" | awk '{print $3}')
        if [[ ! -z "$mount_point" ]]; then
            echo "$disk_id: $mount_point"
        fi
    fi
done
